================================================================================
ğŸ“š OBSERVABILITY STACK EXPLANATION
================================================================================
à¸ªà¸£à¹‰à¸²à¸‡à¸‚à¸¶à¹‰à¸™à¸ªà¸³à¸«à¸£à¸±à¸š POC: OpenTelemetry + Grafana Stack
à¸§à¸±à¸™à¸—à¸µà¹ˆ: 7 December 2025

================================================================================
ğŸ—ï¸ ARCHITECTURE OVERVIEW
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              YOUR APPLICATION                                â”‚
â”‚                         (domain-service, gateway, etc.)                      â”‚
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚   â”‚   Traces     â”‚    â”‚    Logs      â”‚    â”‚   Metrics    â”‚                  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                   â”‚                   â”‚
           â”‚         OTLP gRPC (port 4317)         â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚   OpenTelemetry         â”‚
                 â”‚   Collector             â”‚
                 â”‚   (otel-collector)      â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚         â”‚         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼                    â–¼                    â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Tempo    â”‚       â”‚   Loki    â”‚        â”‚Prometheus â”‚
   â”‚ (traces)  â”‚       â”‚  (logs)   â”‚        â”‚ (metrics) â”‚
   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
         â”‚                   â”‚                    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚    Grafana      â”‚
                   â”‚  (visualization)â”‚
                   â”‚  localhost:3000 â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


================================================================================
ğŸ“¦ DOCKER-COMPOSE SERVICES
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SERVICE: postgres                                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Image: postgres:18-alpine                                                   â”‚
â”‚ Port: 5432                                                                  â”‚
â”‚ Purpose: Database à¸ªà¸³à¸«à¸£à¸±à¸š application data                                   â”‚
â”‚                                                                              â”‚
â”‚ Environment Variables:                                                       â”‚
â”‚   - POSTGRES_USER: username à¸ªà¸³à¸«à¸£à¸±à¸š login                                    â”‚
â”‚   - POSTGRES_PASSWORD: password                                              â”‚
â”‚   - POSTGRES_DB: à¸Šà¸·à¹ˆà¸­ database à¸—à¸µà¹ˆà¸ªà¸£à¹‰à¸²à¸‡à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´                             â”‚
â”‚                                                                              â”‚
â”‚ Volume: postgres_data - à¹€à¸à¹‡à¸š data à¸–à¸²à¸§à¸£ à¹„à¸¡à¹ˆà¸«à¸²à¸¢à¹€à¸¡à¸·à¹ˆà¸­ container à¸–à¸¹à¸à¸¥à¸š          â”‚
â”‚                                                                              â”‚
â”‚ Healthcheck: à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸² postgres à¸à¸£à¹‰à¸­à¸¡à¸£à¸±à¸š connection à¸«à¸£à¸·à¸­à¸¢à¸±à¸‡                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SERVICE: otel-collector                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Image: otel/opentelemetry-collector-contrib:latest                          â”‚
â”‚ Ports:                                                                       â”‚
â”‚   - 4317: OTLP gRPC receiver (à¸ªà¸³à¸«à¸£à¸±à¸š Go SDK à¸ªà¹ˆà¸‡ telemetry à¸¡à¸²)               â”‚
â”‚   - 4318: OTLP HTTP receiver (alternative protocol)                         â”‚
â”‚   - 8889: Prometheus metrics exporter (à¹ƒà¸«à¹‰ Prometheus à¸¡à¸² scrape)            â”‚
â”‚                                                                              â”‚
â”‚ Purpose: à¸¨à¸¹à¸™à¸¢à¹Œà¸à¸¥à¸²à¸‡à¸£à¸±à¸š telemetry data à¹à¸¥à¹‰à¸§à¸ªà¹ˆà¸‡à¸•à¹ˆà¸­à¹„à¸›à¸¢à¸±à¸‡ backends               â”‚
â”‚                                                                              â”‚
â”‚ à¸—à¸³à¹„à¸¡à¸•à¹‰à¸­à¸‡à¸¡à¸µ?                                                                  â”‚
â”‚   - à¸£à¸±à¸š data à¸ˆà¸²à¸ app à¹à¸¥à¹‰à¸§à¸à¸£à¸°à¸ˆà¸²à¸¢à¹„à¸› Tempo, Loki, Prometheus                   â”‚
â”‚   - à¸—à¸³ batch processing à¹€à¸à¸·à¹ˆà¸­à¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸                                     â”‚
â”‚   - à¸ªà¸²à¸¡à¸²à¸£à¸– filter, transform data à¸à¹ˆà¸­à¸™à¸ªà¹ˆà¸‡à¸•à¹ˆà¸­                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SERVICE: tempo                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Image: grafana/tempo:latest                                                 â”‚
â”‚ Ports:                                                                       â”‚
â”‚   - 3200: HTTP API à¸ªà¸³à¸«à¸£à¸±à¸š query traces (Grafana à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ port à¸™à¸µà¹‰)         â”‚
â”‚   - 4317: OTLP gRPC receiver (à¸£à¸±à¸š traces à¸ˆà¸²à¸ otel-collector)                â”‚
â”‚                                                                              â”‚
â”‚ Purpose: à¹€à¸à¹‡à¸š Distributed Traces                                            â”‚
â”‚                                                                              â”‚
â”‚ à¹ƒà¸Šà¹‰à¸”à¸¹à¸­à¸°à¹„à¸£?                                                                   â”‚
â”‚   - à¸”à¸¹ latency à¸‚à¸­à¸‡à¹à¸•à¹ˆà¸¥à¸° request                                             â”‚
â”‚   - à¸”à¸¹ flow à¸‚à¸­à¸‡ request à¸œà¹ˆà¸²à¸™ services à¸•à¹ˆà¸²à¸‡à¹†                                 â”‚
â”‚   - à¸«à¸² bottleneck à¸§à¹ˆà¸²à¸Šà¹‰à¸²à¸•à¸£à¸‡à¹„à¸«à¸™                                              â”‚
â”‚   - à¸”à¸¹ span timeline                                                         â”‚
â”‚                                                                              â”‚
â”‚ Volume: tempo_data - à¹€à¸à¹‡à¸š trace data                                        â”‚
â”‚ user: "0" - à¸£à¸±à¸™à¹€à¸›à¹‡à¸™ root à¹€à¸à¸·à¹ˆà¸­à¹ƒà¸«à¹‰à¸ªà¸£à¹‰à¸²à¸‡ directory à¹„à¸”à¹‰                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SERVICE: loki                                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Image: grafana/loki:latest                                                  â”‚
â”‚ Port: 3100 - HTTP API à¸ªà¸³à¸«à¸£à¸±à¸š query logs                                     â”‚
â”‚                                                                              â”‚
â”‚ Purpose: à¹€à¸à¹‡à¸š Logs (Log Aggregation)                                        â”‚
â”‚                                                                              â”‚
â”‚ à¹ƒà¸Šà¹‰à¸”à¸¹à¸­à¸°à¹„à¸£?                                                                   â”‚
â”‚   - à¸”à¸¹ application logs                                                      â”‚
â”‚   - search logs à¸”à¹‰à¸§à¸¢ trace_id                                               â”‚
â”‚   - à¸”à¸¹ error messages                                                        â”‚
â”‚   - correlate logs à¸à¸±à¸š traces                                               â”‚
â”‚                                                                              â”‚
â”‚ Volume: loki_data - à¹€à¸à¹‡à¸š log data                                           â”‚
â”‚ user: "0" - à¸£à¸±à¸™à¹€à¸›à¹‡à¸™ root à¹€à¸à¸·à¹ˆà¸­à¹ƒà¸«à¹‰à¸ªà¸£à¹‰à¸²à¸‡ directory à¹„à¸”à¹‰                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SERVICE: grafana                                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Image: grafana/grafana:latest                                               â”‚
â”‚ Port: 3000 - Web UI                                                         â”‚
â”‚                                                                              â”‚
â”‚ Purpose: Visualization & Dashboard                                          â”‚
â”‚                                                                              â”‚
â”‚ Environment Variables:                                                       â”‚
â”‚   - GF_AUTH_ANONYMOUS_ENABLED=true: à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡ login                           â”‚
â”‚   - GF_AUTH_ANONYMOUS_ORG_ROLE=Admin: anonymous user à¹€à¸›à¹‡à¸™ admin             â”‚
â”‚   - GF_AUTH_DISABLE_LOGIN_FORM=true: à¸‹à¹ˆà¸­à¸™ login form                        â”‚
â”‚                                                                              â”‚
â”‚ URL: http://localhost:3000                                                  â”‚
â”‚                                                                              â”‚
â”‚ à¹ƒà¸Šà¹‰à¸—à¸³à¸­à¸°à¹„à¸£?                                                                   â”‚
â”‚   - Explore â†’ Tempo: à¸”à¸¹ traces                                              â”‚
â”‚   - Explore â†’ Loki: à¸”à¸¹ logs                                                 â”‚
â”‚   - Explore â†’ Prometheus: à¸”à¸¹ metrics                                        â”‚
â”‚   - à¸ªà¸£à¹‰à¸²à¸‡ Dashboard                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SERVICE: prometheus                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Image: prom/prometheus:latest                                               â”‚
â”‚ Port: 9090 - Web UI & API                                                   â”‚
â”‚                                                                              â”‚
â”‚ Purpose: à¹€à¸à¹‡à¸š Metrics (Time-series data)                                    â”‚
â”‚                                                                              â”‚
â”‚ à¹ƒà¸Šà¹‰à¸”à¸¹à¸­à¸°à¹„à¸£?                                                                   â”‚
â”‚   - Request count, error rate                                                â”‚
â”‚   - Response time percentiles (p50, p95, p99)                               â”‚
â”‚   - CPU, memory usage                                                        â”‚
â”‚   - Custom application metrics                                               â”‚
â”‚                                                                              â”‚
â”‚ Volume: prometheus_data - à¹€à¸à¹‡à¸š metrics data                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


================================================================================
ğŸ“ CONFIG FILES EXPLANATION
================================================================================

================================================================================
ğŸ“„ otel/otel-collector-config.yaml
================================================================================
OpenTelemetry Collector configuration - à¸¨à¸¹à¸™à¸¢à¹Œà¸à¸¥à¸²à¸‡à¸£à¸±à¸šà¹à¸¥à¸°à¸à¸£à¸°à¸ˆà¸²à¸¢ telemetry

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RECEIVERS - à¸£à¸±à¸š data à¸ˆà¸²à¸ applications                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ receivers:                                                                   â”‚
â”‚   otlp:                                                                      â”‚
â”‚     protocols:                                                               â”‚
â”‚       grpc:                                                                  â”‚
â”‚         endpoint: 0.0.0.0:4317    â† à¸£à¸±à¸š OTLP à¸œà¹ˆà¸²à¸™ gRPC (Go SDK à¹ƒà¸Šà¹‰à¸­à¸±à¸™à¸™à¸µà¹‰)   â”‚
â”‚       http:                                                                  â”‚
â”‚         endpoint: 0.0.0.0:4318    â† à¸£à¸±à¸š OTLP à¸œà¹ˆà¸²à¸™ HTTP                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PROCESSORS - à¸›à¸£à¸°à¸¡à¸§à¸¥à¸œà¸¥ data à¸à¹ˆà¸­à¸™à¸ªà¹ˆà¸‡à¸•à¹ˆà¸­                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ processors:                                                                  â”‚
â”‚   batch:                                                                     â”‚
â”‚     timeout: 1s              â† à¸£à¸­à¸ªà¸°à¸ªà¸¡ data 1 à¸§à¸´à¸™à¸²à¸—à¸µà¸à¹ˆà¸­à¸™à¸ªà¹ˆà¸‡                   â”‚
â”‚     send_batch_size: 1024    â† à¸«à¸£à¸·à¸­à¸ªà¹ˆà¸‡à¹€à¸¡à¸·à¹ˆà¸­à¹„à¸”à¹‰ 1024 items                   â”‚
â”‚                                                                              â”‚
â”‚ à¸—à¸³à¹„à¸¡à¸•à¹‰à¸­à¸‡ batch?                                                              â”‚
â”‚   - à¸¥à¸” network overhead                                                      â”‚
â”‚   - à¸›à¸£à¸°à¸«à¸¢à¸±à¸” resources                                                        â”‚
â”‚   - backends à¸£à¸±à¸š batch à¹„à¸”à¹‰à¹€à¸£à¹‡à¸§à¸à¸§à¹ˆà¸² single items                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ EXPORTERS - à¸ªà¹ˆà¸‡ data à¹„à¸›à¸¢à¸±à¸‡ backends                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ exporters:                                                                   â”‚
â”‚   otlp/tempo:                        â† à¸ªà¹ˆà¸‡ traces à¹„à¸› Tempo                  â”‚
â”‚     endpoint: tempo:4317                                                     â”‚
â”‚     tls:                                                                     â”‚
â”‚       insecure: true                 â† à¹„à¸¡à¹ˆà¹ƒà¸Šà¹‰ TLS (dev environment)         â”‚
â”‚                                                                              â”‚
â”‚   otlphttp/loki:                     â† à¸ªà¹ˆà¸‡ logs à¹„à¸› Loki                     â”‚
â”‚     endpoint: http://loki:3100/otlp  â† Loki à¸£à¸±à¸š OTLP à¸œà¹ˆà¸²à¸™ HTTP              â”‚
â”‚                                                                              â”‚
â”‚   prometheus:                        â† expose metrics à¹ƒà¸«à¹‰ Prometheus scrape â”‚
â”‚     endpoint: "0.0.0.0:8889"                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SERVICE PIPELINES - à¸à¸³à¸«à¸™à¸” flow à¸‚à¸­à¸‡ data                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ service:                                                                     â”‚
â”‚   pipelines:                                                                 â”‚
â”‚     traces:                          â† Pipeline à¸ªà¸³à¸«à¸£à¸±à¸š traces               â”‚
â”‚       receivers: [otlp]              â† à¸£à¸±à¸šà¸ˆà¸²à¸ OTLP receiver                 â”‚
â”‚       processors: [batch]            â† à¸œà¹ˆà¸²à¸™ batch processor                 â”‚
â”‚       exporters: [otlp/tempo]        â† à¸ªà¹ˆà¸‡à¹„à¸› Tempo                          â”‚
â”‚                                                                              â”‚
â”‚     logs:                            â† Pipeline à¸ªà¸³à¸«à¸£à¸±à¸š logs                 â”‚
â”‚       receivers: [otlp]                                                      â”‚
â”‚       processors: [batch]                                                    â”‚
â”‚       exporters: [otlphttp/loki]     â† à¸ªà¹ˆà¸‡à¹„à¸› Loki                           â”‚
â”‚                                                                              â”‚
â”‚     metrics:                         â† Pipeline à¸ªà¸³à¸«à¸£à¸±à¸š metrics              â”‚
â”‚       receivers: [otlp]                                                      â”‚
â”‚       processors: [batch]                                                    â”‚
â”‚       exporters: [prometheus]        â† expose à¹ƒà¸«à¹‰ Prometheus scrape         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


================================================================================
ğŸ“„ tempo/tempo-config.yaml
================================================================================
Tempo configuration - Distributed Tracing Backend

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ server:                                                                      â”‚
â”‚   http_listen_port: 3200    â† Grafana à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ port à¸™à¸µà¹‰à¹€à¸à¸·à¹ˆà¸­ query traces  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ distributor:                                                                 â”‚
â”‚   receivers:                                                                 â”‚
â”‚     otlp:                                                                    â”‚
â”‚       protocols:                                                             â”‚
â”‚         grpc:                                                                â”‚
â”‚           endpoint: 0.0.0.0:4317   â† à¸£à¸±à¸š traces à¸ˆà¸²à¸ otel-collector          â”‚
â”‚                                                                              â”‚
â”‚ à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸: à¸•à¹‰à¸­à¸‡à¹ƒà¸Šà¹‰ 0.0.0.0 à¹„à¸¡à¹ˆà¹ƒà¸Šà¹ˆ 127.0.0.1                                  â”‚
â”‚           à¹€à¸à¸£à¸²à¸°à¸•à¹‰à¸­à¸‡à¸£à¸±à¸š connection à¸ˆà¸²à¸ container à¸­à¸·à¹ˆà¸™                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ compactor:                                                                   â”‚
â”‚   compaction:                                                                â”‚
â”‚     block_retention: 720h   â† à¹€à¸à¹‡à¸š traces 30 à¸§à¸±à¸™ (720 à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡)              â”‚
â”‚                                                                              â”‚
â”‚ à¸«à¸¥à¸±à¸‡ 30 à¸§à¸±à¸™ traces à¸ˆà¸°à¸–à¸¹à¸à¸¥à¸šà¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ storage:                                                                     â”‚
â”‚   trace:                                                                     â”‚
â”‚     backend: local              â† à¹€à¸à¹‡à¸šà¹ƒà¸™ local filesystem                   â”‚
â”‚     local:                                                                   â”‚
â”‚       path: /tmp/tempo/blocks   â† à¸—à¸µà¹ˆà¹€à¸à¹‡à¸š trace blocks                      â”‚
â”‚     wal:                                                                     â”‚
â”‚       path: /tmp/tempo/wal      â† Write-Ahead Log à¸ªà¸³à¸«à¸£à¸±à¸š durability         â”‚
â”‚                                                                              â”‚
â”‚ Production: à¸„à¸§à¸£à¹ƒà¸Šà¹‰ S3, GCS à¸«à¸£à¸·à¸­ Azure Blob Storage à¹à¸—à¸™ local                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ query_frontend:                                                              â”‚
â”‚   search:                                                                    â”‚
â”‚     duration_slo: 5s              â† SLO: query à¸„à¸§à¸£à¹€à¸ªà¸£à¹‡à¸ˆà¹ƒà¸™ 5 à¸§à¸´à¸™à¸²à¸—à¸µ          â”‚
â”‚     throughput_bytes_slo: 1GB     â† SLO: throughput 1GB                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


================================================================================
ğŸ“„ loki/loki-config.yaml
================================================================================
Loki configuration - Log Aggregation System

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ auth_enabled: false    â† à¸›à¸´à¸” authentication (dev environment)              â”‚
â”‚                                                                              â”‚
â”‚ server:                                                                      â”‚
â”‚   http_listen_port: 3100    â† Grafana à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ port à¸™à¸µà¹‰                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ common:                                                                      â”‚
â”‚   path_prefix: /loki                â† root directory                        â”‚
â”‚   storage:                                                                   â”‚
â”‚     filesystem:                                                              â”‚
â”‚       chunks_directory: /loki/chunks    â† à¹€à¸à¹‡à¸š log chunks                   â”‚
â”‚       rules_directory: /loki/rules      â† à¹€à¸à¹‡à¸š alerting rules              â”‚
â”‚   replication_factor: 1             â† single instance (dev)                 â”‚
â”‚   ring:                                                                      â”‚
â”‚     kvstore:                                                                 â”‚
â”‚       store: inmemory               â† à¹ƒà¸Šà¹‰ memory (dev)                      â”‚
â”‚                                                                              â”‚
â”‚ Production: à¸„à¸§à¸£à¹ƒà¸Šà¹‰ consul à¸«à¸£à¸·à¸­ etcd à¸ªà¸³à¸«à¸£à¸±à¸š kvstore                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ schema_config:                                                               â”‚
â”‚   configs:                                                                   â”‚
â”‚     - from: 2020-10-24              â† à¹ƒà¸Šà¹‰ schema à¸™à¸µà¹‰à¸•à¸±à¹‰à¸‡à¹à¸•à¹ˆà¸§à¸±à¸™à¸—à¸µà¹ˆ           â”‚
â”‚       store: tsdb                   â† storage engine: TSDB                  â”‚
â”‚       object_store: filesystem      â† à¹€à¸à¹‡à¸šà¹ƒà¸™ filesystem                     â”‚
â”‚       schema: v13                   â† schema version                        â”‚
â”‚       index:                                                                 â”‚
â”‚         prefix: index_                                                       â”‚
â”‚         period: 24h                 â† à¸ªà¸£à¹‰à¸²à¸‡ index à¹ƒà¸«à¸¡à¹ˆà¸—à¸¸à¸ 24 à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ limits_config:                                                               â”‚
â”‚   retention_period: 720h    â† à¹€à¸à¹‡à¸š logs 30 à¸§à¸±à¸™                              â”‚
â”‚                                                                              â”‚
â”‚ à¸«à¸¥à¸±à¸‡ 30 à¸§à¸±à¸™ logs à¸ˆà¸°à¸–à¸¹à¸à¸¥à¸šà¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ compactor:                                                                   â”‚
â”‚   working_directory: /loki/compactor                                        â”‚
â”‚   compaction_interval: 10m          â† compact à¸—à¸¸à¸ 10 à¸™à¸²à¸—à¸µ                   â”‚
â”‚   retention_enabled: true           â† à¹€à¸›à¸´à¸” retention                        â”‚
â”‚   retention_delete_delay: 2h        â† à¸£à¸­ 2 à¸Šà¸¡. à¸à¹ˆà¸­à¸™à¸¥à¸šà¸ˆà¸£à¸´à¸‡                   â”‚
â”‚   retention_delete_worker_count: 150                                        â”‚
â”‚   delete_request_store: filesystem  â† à¸ˆà¸³à¹€à¸›à¹‡à¸™à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸›à¸´à¸” retention              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


================================================================================
ğŸ“„ grafana/grafana-datasources.yaml
================================================================================
Grafana Datasource Provisioning - Auto-configure datasources

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ datasources:                                                                 â”‚
â”‚   - name: Tempo                      â† à¸Šà¸·à¹ˆà¸­à¸—à¸µà¹ˆà¹à¸ªà¸”à¸‡à¹ƒà¸™ Grafana                â”‚
â”‚     type: tempo                      â† plugin type                          â”‚
â”‚     access: proxy                    â† Grafana proxy request                â”‚
â”‚     url: http://tempo:3200           â† URL à¸‚à¸­à¸‡ Tempo                        â”‚
â”‚     isDefault: true                  â† default datasource                   â”‚
â”‚                                                                              â”‚
â”‚   - name: Loki                                                               â”‚
â”‚     type: loki                                                               â”‚
â”‚     access: proxy                                                            â”‚
â”‚     url: http://loki:3100                                                    â”‚
â”‚                                                                              â”‚
â”‚   - name: Prometheus                                                         â”‚
â”‚     type: prometheus                                                         â”‚
â”‚     access: proxy                                                            â”‚
â”‚     url: http://prometheus:9090                                              â”‚
â”‚                                                                              â”‚
â”‚ access: proxy à¸«à¸¡à¸²à¸¢à¸„à¸§à¸²à¸¡à¸§à¹ˆà¸² Grafana à¸ˆà¸°à¹€à¸›à¹‡à¸™à¸„à¸™à¸•à¸´à¸”à¸•à¹ˆà¸­ datasource                  â”‚
â”‚                à¹à¸—à¸™à¸—à¸µà¹ˆ browser à¸ˆà¸°à¸•à¸´à¸”à¸•à¹ˆà¸­à¸•à¸£à¸‡                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


================================================================================
ğŸ“„ prometheus/prometheus.yaml
================================================================================
Prometheus configuration - Metrics Collection

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ global:                                                                      â”‚
â”‚   scrape_interval: 15s    â† à¸”à¸¶à¸‡ metrics à¸—à¸¸à¸ 15 à¸§à¸´à¸™à¸²à¸—à¸µ                       â”‚
â”‚                                                                              â”‚
â”‚ scrape_configs:                                                              â”‚
â”‚   - job_name: 'otel-collector'    â† à¸Šà¸·à¹ˆà¸­ job                                â”‚
â”‚     static_configs:                                                          â”‚
â”‚       - targets: ['otel-collector:8889']   â† endpoint à¸—à¸µà¹ˆà¸ˆà¸° scrape          â”‚
â”‚                                                                              â”‚
â”‚ Prometheus à¸ˆà¸°à¹„à¸› GET http://otel-collector:8889/metrics à¸—à¸¸à¸ 15 à¸§à¸´à¸™à¸²à¸—à¸µ        â”‚
â”‚ à¹€à¸à¸·à¹ˆà¸­à¸”à¸¶à¸‡ metrics à¸—à¸µà¹ˆ otel-collector expose à¹„à¸§à¹‰                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


================================================================================
ğŸ”— NETWORK & VOLUMES
================================================================================

NETWORK: grpc-network
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ driver: bridge                                                               â”‚
â”‚                                                                              â”‚
â”‚ à¸—à¸¸à¸ services à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™ network à¹€à¸”à¸µà¸¢à¸§à¸à¸±à¸™ à¸—à¸³à¹ƒà¸«à¹‰:                                  â”‚
â”‚   - à¸ªà¸²à¸¡à¸²à¸£à¸–à¹€à¸£à¸µà¸¢à¸à¸à¸±à¸™à¸”à¹‰à¸§à¸¢à¸Šà¸·à¹ˆà¸­ service (à¹€à¸Šà¹ˆà¸™ tempo:4317, loki:3100)             â”‚
â”‚   - à¹„à¸¡à¹ˆà¸•à¹‰à¸­à¸‡ expose à¸—à¸¸à¸ port à¸­à¸­à¸à¸¡à¸² host                                      â”‚
â”‚   - à¸¡à¸µ isolation à¸ˆà¸²à¸ network à¸­à¸·à¹ˆà¸™                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

VOLUMES:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ postgres_data    â†’ à¹€à¸à¹‡à¸š database data                                       â”‚
â”‚ tempo_data       â†’ à¹€à¸à¹‡à¸š trace data                                          â”‚
â”‚ loki_data        â†’ à¹€à¸à¹‡à¸š log data                                            â”‚
â”‚ prometheus_data  â†’ à¹€à¸à¹‡à¸š metrics data                                        â”‚
â”‚                                                                              â”‚
â”‚ Named volumes à¸—à¸³à¹ƒà¸«à¹‰ data à¹„à¸¡à¹ˆà¸«à¸²à¸¢à¹€à¸¡à¸·à¹ˆà¸­:                                        â”‚
â”‚   - docker-compose down                                                      â”‚
â”‚   - container restart                                                        â”‚
â”‚   - image update                                                             â”‚
â”‚                                                                              â”‚
â”‚ à¸¥à¸š volumes: docker-compose down -v                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


================================================================================
ğŸš€ QUICK START COMMANDS
================================================================================

# Start all services
docker-compose up -d

# View logs
docker-compose logs -f otel-collector
docker-compose logs -f tempo
docker-compose logs -f loki

# Restart specific service
docker-compose restart tempo

# Stop all services
docker-compose down

# Stop and remove volumes (delete all data)
docker-compose down -v

# Access URLs
- Grafana:    http://localhost:3000
- Prometheus: http://localhost:9090
- Tempo:      http://localhost:3200
- Loki:       http://localhost:3100


================================================================================
ğŸ“Š HOW TO USE IN GRAFANA
================================================================================

1. à¹€à¸›à¸´à¸” http://localhost:3000

2. à¸”à¸¹ TRACES:
   - à¹„à¸›à¸—à¸µà¹ˆ Explore (icon à¹€à¸‚à¹‡à¸¡à¸—à¸´à¸¨)
   - à¹€à¸¥à¸·à¸­à¸ Tempo
   - Search by service name à¸«à¸£à¸·à¸­ trace ID

3. à¸”à¸¹ LOGS:
   - à¹„à¸›à¸—à¸µà¹ˆ Explore
   - à¹€à¸¥à¸·à¸­à¸ Loki
   - Query: {service_name="domain-service"}
   - à¸«à¸£à¸·à¸­ search by trace_id

4. à¸”à¸¹ METRICS:
   - à¹„à¸›à¸—à¸µà¹ˆ Explore
   - à¹€à¸¥à¸·à¸­à¸ Prometheus
   - Query: rate(http_requests_total[5m])

5. CORRELATE LOGS & TRACES:
   - à¹ƒà¸™ Tempo, à¸„à¸¥à¸´à¸à¸—à¸µà¹ˆ trace
   - à¸à¸” "Logs for this span" à¹€à¸à¸·à¹ˆà¸­à¸”à¸¹ logs à¸—à¸µà¹ˆà¹€à¸à¸µà¹ˆà¸¢à¸§à¸‚à¹‰à¸­à¸‡


================================================================================
ğŸ” TROUBLESHOOTING
================================================================================

1. otel-collector à¹„à¸¡à¹ˆà¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ tempo:
   - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸² tempo à¹ƒà¸Šà¹‰ endpoint: 0.0.0.0:4317 (à¹„à¸¡à¹ˆà¹ƒà¸Šà¹ˆ 127.0.0.1)
   - à¸£à¸±à¸™: docker-compose restart otel-collector

2. Loki error "delete-request-store should be configured":
   - à¹€à¸à¸´à¹ˆà¸¡ delete_request_store: filesystem à¹ƒà¸™ compactor section

3. Permission denied errors:
   - à¹€à¸à¸´à¹ˆà¸¡ user: "0" à¹ƒà¸™ docker-compose.yaml

4. No data in Grafana:
   - à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸² app à¸ªà¹ˆà¸‡ telemetry à¹„à¸› otel-collector
   - à¸”à¸¹ logs: docker-compose logs otel-collector

================================================================================
